{"version":3,"names":["ZegoLiveStreamingRole","PrebuiltHelper","constructor","_defineProperty","role","audience","hostID","liveStatus","requestCoHostCount","memberConnectStateMap","getInstance","_instance","getRealTimeData","_realTimeData","getStateData","_stateData","getNotifyData","_notifyData","clearRealTimeData","clearState","clearNotify","notifyZegoDialogTrigger","visable","Object","keys","_onZegoDialogTriggerCallbackMap","forEach","callbackID","onZegoDialogTrigger","callback","_class"],"sources":["prebuilt_helper.ts"],"sourcesContent":["import { ZegoLiveStreamingRole } from \"./defines\";\n\nexport default class PrebuiltHelper {\n    static _instance: PrebuiltHelper;\n    _realTimeData: { [index: string]: any } = {\n        role: ZegoLiveStreamingRole.audience,\n        hostID: '',\n        liveStatus: '',\n        requestCoHostCount: 0,\n        memberConnectStateMap: {},\n    };\n    _stateData: { [index: string]: any } = {\n        memberConnectStateMap: {},\n    };\n    _notifyData: { [index: string]: any }  = {};\n    _onZegoDialogTriggerCallbackMap: { [index: string]: (data?: any) => void } = {};\n    constructor() { }\n    static getInstance() {\n        return this._instance || (this._instance = new PrebuiltHelper());\n    }\n    // Use reference types directly, so the set method is not provided here\n    getRealTimeData() {\n        return this._realTimeData;\n    }\n    getStateData() {\n        return this._stateData;\n    }\n    getNotifyData() {\n        return this._notifyData;\n    }\n    clearRealTimeData() {\n        this._realTimeData = {\n            role: ZegoLiveStreamingRole.audience,\n            hostID: '',\n            liveStatus: '',\n            requestCoHostCount: 0,\n            memberConnectStateMap: {},\n        }\n    }\n    clearState() {\n        this._stateData = {\n            memberConnectStateMap: {},\n        };\n    }\n    clearNotify() {\n        this._notifyData = {};\n    }\n    notifyZegoDialogTrigger(visable: boolean) {\n        Object.keys(this._onZegoDialogTriggerCallbackMap).forEach((callbackID) => {\n            if (this._onZegoDialogTriggerCallbackMap[callbackID]) {\n                this._onZegoDialogTriggerCallbackMap[callbackID](visable);\n            }\n        })\n    }\n    // Temporarily resolved an issue where dialog shutdown could not be triggered\n    onZegoDialogTrigger(callbackID: string, callback?: (data: any) => void) {\n        if (typeof callback !== 'function') {\n            delete this._onZegoDialogTriggerCallbackMap[callbackID];\n        } else {\n            this._onZegoDialogTriggerCallbackMap[callbackID] = callback;\n        }\n    }\n}"],"mappings":";;;;AAAA,SAASA,qBAAqB,QAAQ,WAAW;AAEjD,eAAe,MAAMC,cAAc,CAAC;EAchCC,WAAWA,CAAA,EAAG;IAAAC,eAAA,wBAZ4B;MACtCC,IAAI,EAAEJ,qBAAqB,CAACK,QAAQ;MACpCC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,EAAE;MACdC,kBAAkB,EAAE,CAAC;MACrBC,qBAAqB,EAAE,CAAC;IAC5B,CAAC;IAAAN,eAAA,qBACsC;MACnCM,qBAAqB,EAAE,CAAC;IAC5B,CAAC;IAAAN,eAAA,sBACwC,CAAC,CAAC;IAAAA,eAAA,0CACkC,CAAC,CAAC;EAC/D;EAChB,OAAOO,WAAWA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACC,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,IAAIV,cAAc,CAAC,CAAC,CAAC;EACpE;EACA;EACAW,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACC,aAAa;EAC7B;EACAC,YAAYA,CAAA,EAAG;IACX,OAAO,IAAI,CAACC,UAAU;EAC1B;EACAC,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACC,WAAW;EAC3B;EACAC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACL,aAAa,GAAG;MACjBT,IAAI,EAAEJ,qBAAqB,CAACK,QAAQ;MACpCC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,EAAE;MACdC,kBAAkB,EAAE,CAAC;MACrBC,qBAAqB,EAAE,CAAC;IAC5B,CAAC;EACL;EACAU,UAAUA,CAAA,EAAG;IACT,IAAI,CAACJ,UAAU,GAAG;MACdN,qBAAqB,EAAE,CAAC;IAC5B,CAAC;EACL;EACAW,WAAWA,CAAA,EAAG;IACV,IAAI,CAACH,WAAW,GAAG,CAAC,CAAC;EACzB;EACAI,uBAAuBA,CAACC,OAAgB,EAAE;IACtCC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACC,+BAA+B,CAAC,CAACC,OAAO,CAAEC,UAAU,IAAK;MACtE,IAAI,IAAI,CAACF,+BAA+B,CAACE,UAAU,CAAC,EAAE;QAClD,IAAI,CAACF,+BAA+B,CAACE,UAAU,CAAC,CAACL,OAAO,CAAC;MAC7D;IACJ,CAAC,CAAC;EACN;EACA;EACAM,mBAAmBA,CAACD,UAAkB,EAAEE,QAA8B,EAAE;IACpE,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAChC,OAAO,IAAI,CAACJ,+BAA+B,CAACE,UAAU,CAAC;IAC3D,CAAC,MAAM;MACH,IAAI,CAACF,+BAA+B,CAACE,UAAU,CAAC,GAAGE,QAAQ;IAC/D;EACJ;AACJ;AAACC,MAAA,GA5DoB7B,cAAc;AAAAE,eAAA,CAAdF,cAAc"}