{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_zegoUikitRn","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ZegoMessageButton","props","userID","hostID","onPress","width","height","icon","isChatOn","setIsChatOn","useState","useEffect","callbackID","String","Math","floor","random","ZegoUIKit","onRoomPropertyUpdated","oldValue","value","parseInt","createElement","TouchableOpacity","style","opacity","disabled","Image","resizeMode","source","onLoad","_ref","nativeEvent","console","log"],"sources":["ZegoMessageButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity, Image} from \"react-native\"\nimport ZegoUIKit from '@zegocloud/zego-uikit-rn';\n\nexport default function ZegoMessageButton(props: any) {\n    const {\n        userID,\n        hostID,\n        onPress,\n        width = 36,\n        height = 36,\n        icon = require('../resources/white_bottom_button_chat_on.png'),\n    } = props;\n    const [isChatOn, setIsChatOn] = useState(true);\n\n    useEffect(() => {\n        const callbackID = 'ZegoMessageButton' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKit.onRoomPropertyUpdated(callbackID, (key: string, oldValue: any, value: any) => {\n            if (key === 'enableChat' && value && userID !== hostID) {\n                setIsChatOn(!!parseInt(value));\n            }\n        });\n        return () => {\n            ZegoUIKit.onRoomPropertyUpdated(callbackID);\n        }\n    }, []);\n\n    return (\n        <TouchableOpacity style={{ width: width, height: height, opacity: isChatOn ? 1 : 0.7 }}\n            onPress={onPress}\n            disabled={!isChatOn}>\n            <Image\n                resizeMode='contain'\n                source={isChatOn ? icon : require('../resources/white_bottom_button_chat_off.png')}\n                onLoad={({nativeEvent: {source: {width, height}}}) => console.log('>>>>>', width, height)}\n                style={{ width: \"100%\", height: \"100%\" }} />\n        </TouchableOpacity>)\n}\n"],"mappings":"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"}