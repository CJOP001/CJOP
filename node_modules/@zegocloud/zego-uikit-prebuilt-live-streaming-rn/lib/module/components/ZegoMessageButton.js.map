{"version":3,"names":["React","useState","useEffect","TouchableOpacity","Image","ZegoUIKit","ZegoMessageButton","props","userID","hostID","onPress","width","height","icon","require","isChatOn","setIsChatOn","callbackID","String","Math","floor","random","onRoomPropertyUpdated","key","oldValue","value","parseInt","createElement","style","opacity","disabled","resizeMode","source","onLoad","_ref","nativeEvent","console","log"],"sources":["ZegoMessageButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity, Image} from \"react-native\"\nimport ZegoUIKit from '@zegocloud/zego-uikit-rn';\n\nexport default function ZegoMessageButton(props: any) {\n    const {\n        userID,\n        hostID,\n        onPress,\n        width = 36,\n        height = 36,\n        icon = require('../resources/white_bottom_button_chat_on.png'),\n    } = props;\n    const [isChatOn, setIsChatOn] = useState(true);\n\n    useEffect(() => {\n        const callbackID = 'ZegoMessageButton' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKit.onRoomPropertyUpdated(callbackID, (key: string, oldValue: any, value: any) => {\n            if (key === 'enableChat' && value && userID !== hostID) {\n                setIsChatOn(!!parseInt(value));\n            }\n        });\n        return () => {\n            ZegoUIKit.onRoomPropertyUpdated(callbackID);\n        }\n    }, []);\n\n    return (\n        <TouchableOpacity style={{ width: width, height: height, opacity: isChatOn ? 1 : 0.7 }}\n            onPress={onPress}\n            disabled={!isChatOn}>\n            <Image\n                resizeMode='contain'\n                source={isChatOn ? icon : require('../resources/white_bottom_button_chat_off.png')}\n                onLoad={({nativeEvent: {source: {width, height}}}) => console.log('>>>>>', width, height)}\n                style={{ width: \"100%\", height: \"100%\" }} />\n        </TouchableOpacity>)\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,gBAAgB,EAAEC,KAAK,QAAO,cAAc;AACrD,OAAOC,SAAS,MAAM,0BAA0B;AAEhD,eAAe,SAASC,iBAAiBA,CAACC,KAAU,EAAE;EAClD,MAAM;IACFC,MAAM;IACNC,MAAM;IACNC,OAAO;IACPC,KAAK,GAAG,EAAE;IACVC,MAAM,GAAG,EAAE;IACXC,IAAI,GAAGC,OAAO,CAAC,8CAA8C;EACjE,CAAC,GAAGP,KAAK;EACT,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZ,MAAMe,UAAU,GAAG,mBAAmB,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IAClFhB,SAAS,CAACiB,qBAAqB,CAACL,UAAU,EAAE,CAACM,GAAW,EAAEC,QAAa,EAAEC,KAAU,KAAK;MACpF,IAAIF,GAAG,KAAK,YAAY,IAAIE,KAAK,IAAIjB,MAAM,KAAKC,MAAM,EAAE;QACpDO,WAAW,CAAC,CAAC,CAACU,QAAQ,CAACD,KAAK,CAAC,CAAC;MAClC;IACJ,CAAC,CAAC;IACF,OAAO,MAAM;MACTpB,SAAS,CAACiB,qBAAqB,CAACL,UAAU,CAAC;IAC/C,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIjB,KAAA,CAAA2B,aAAA,CAACxB,gBAAgB;IAACyB,KAAK,EAAE;MAAEjB,KAAK,EAAEA,KAAK;MAAEC,MAAM,EAAEA,MAAM;MAAEiB,OAAO,EAAEd,QAAQ,GAAG,CAAC,GAAG;IAAI,CAAE;IACnFL,OAAO,EAAEA,OAAQ;IACjBoB,QAAQ,EAAE,CAACf;EAAS,gBACpBf,KAAA,CAAA2B,aAAA,CAACvB,KAAK;IACF2B,UAAU,EAAC,SAAS;IACpBC,MAAM,EAAEjB,QAAQ,GAAGF,IAAI,GAAGC,OAAO,CAAC,+CAA+C,CAAE;IACnFmB,MAAM,EAAEC,IAAA;MAAA,IAAC;QAACC,WAAW,EAAE;UAACH,MAAM,EAAE;YAACrB,KAAK;YAAEC;UAAM;QAAC;MAAC,CAAC,GAAAsB,IAAA;MAAA,OAAKE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE1B,KAAK,EAAEC,MAAM,CAAC;IAAA,CAAC;IAC1FgB,KAAK,EAAE;MAAEjB,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO;EAAE,CAAE,CACjC,CAAC;AAC3B"}